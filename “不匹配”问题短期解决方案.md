# “不匹配”问题短期解决方案

## 更新说明：
| 版本号     | 更新时间 | 更新人   |  更新内容 |
| :------- | ----: | :---: |
| V 1.0 | 2017/03/29 | Sean 樊笑君 | 初稿，涉及背景、基础解决方案|
| V 1.0 | 2017/04/01 | Sean 樊笑君 | 1、消息Push的规则做了改动，详情请参考表格<br>2、补充了消息的文案内容	
| V 1.0 | 2017/04/06 | Sean 樊笑君 | APP-Push的消息内容里面的公司名称，统一使用公司全称 |	
| V 1.0 | 2017/04/11 | Sean 樊笑君  | 取消投递成功PC-站内信通知 |
| V 1.0 | 2017/04/11 | Sean 樊笑君 | 1、添加APP-Push在『聚合情况』情况下的策略和消息内容<br>2、APP-Push在不同消息类型(单条、聚合)情况下的点击跳转规则	 |
| V 1.0 | 2017/04/21 | Sean 樊笑君 | 1、添加了安卓手机的消息内容<br>2、APP-Push的消息内容里面的公司名称，统一使用**`公司简称`** |

## 划重点：
> 说明：统一使用公司简称这个事情，安卓已经做了，如果iOS暂时来不及做，可以先不做，后续再修改，如果来得及，可以做修改，辛苦各位大大。


## 目录
[toc]




## 背景：
拉勾目前投递简历的“不匹配”占比达95.4%，其中，系统自动拒绝简历占比达62%，人工手动拒绝占比达38%。首先先去解决系统自动拒绝这一部分，会采取以下几个办法。

## 解决方案：

### 一、去掉“7天未查看，自动标记为不匹配”策略

之前的旧逻辑是如果HR 7天没有查看投递过来的简历，那么系统会自动判定为简历不匹配，并发送站内消息/邮件等反馈给C端用户。

现在取消这个逻辑，只要是HR收到的简历，HR什么时候都可以处理，不再有系统自动拒绝这种情况发生。

### 二、简历状态的修改

#### 逻辑变更：
##### 旧逻辑：
- 对于C端用户而言，之前的逻辑是7天未处理的简历状态会变成不合适，
##### 新逻辑：
1. 投递之后未处理的简历全部都是“投递成功”状态
2. 进入被查看、待沟通、面试状态的简历，7天之后不会自动拒绝，会一直保持该状态。

> 被查看、待沟通、面试、不合适和之前的逻辑保持一致。

#### 展示层面：
##### APP端：

如图，被查看、待沟通、面试、不合适还和旧版的逻辑一致；

**“全部”Tab下的逻辑：**
职位的排序按照**简历状态的变更时间倒排**（同现在一致）

> 例子：一个用户在10点、11点、12点分别投递了PHP、C++、Java职位，然后排序就是**按照时间倒排**，后续投递PHP职位的简历在13点被查看了，然后改简历的状态就是在13点变成了被查看，状态的更新时间是13点，于是该职位被**置顶**了，详情请参见下图。


##### PC端：
投递成功、被查看、待沟通、面试、不合适还和旧版的逻辑一致。

**“全部”Tab下的逻辑：**
- 职位的排序按照简历状态的变更时间倒排（和现在保持一致）

### 三、PC端添加快速沟通入口
在投递箱里的投递卡片里添加聊天的icon，鼠标hover上去展示聊天二维码，用APP扫码可以直接聊天（展示样式和逻辑参考拉勾Web首页职位卡片上的聊天icon）
<img src="https://dn-shimo-image.qbox.me/5w9xGWT0hioBBerm/image.png!thumbnail" style="zoom:50%" />


### 四、APP上投递记录添加”和TA聊聊“入口
在APP上的投递记录里面添加”和TA聊聊“入口，点击跳转到和HR的聊天页面。

<img src="https://dn-shimo-image.qbox.me/8VxejZWeQ8Ein2SB/image.png!thumbnail" style="zoom:30%" />



### 五、消息Push相关
**目前消息的渠道：**
![enter image description here](https://dn-shimo-image.qbox.me/Y6dlb98eCfU9Ej9Y/image.png!thumbnail)

**新的渠道：**
![enter image description here](https://dn-shimo-image.qbox.me/6n5sI5COpDYg4yH8/image.png!thumbnail)

**说明：**
现在消息分为两种情况，一种是投递之后7天内的，一种是7天之后的，其中不同简历状态的不同时间段发送不同类型的消息（例子：简历状态变成待沟通后，查询投递时间，如果是`7天内`投递的，发送APP-Push、PC站内信、APP/PC红点、微信；如果是`7天前`投递的，只有APP/PC红点提醒。）；

不过**同简历状态的同类型消息**（不管什么时候发送）`内容是一致`的（例子：比如说面试时候发送的APP-push，内容是『{公司简称}向你发来面试邀请』，不管是7天前还是7天后，都是这句话）。
消息内容文案：
说明：之前已经有的消息内容保持不变，例如面试时候的APP-Push、邮件等，以下只展示新增加的消息。

**待沟通：**
- APP-Push：{公司简称}已查看你的简历并反馈，点击查看详情>>

**不合适：**
- APP-Push：你投递{公司简称}的简历有新动态，点击查看>>

### 聚合情况：
> 背景：当有离线消息积累的时候，服务器会直接推送多条消息，这时候为防止用户同时收到大量的消息，需要把消息做聚合。

#### 策略：
1. **`面试的通知永不聚合`**，面试通知永远是单独Push通知的。
2. 『待沟通』和『不合适』的消息如果累积就聚合到一起通知（组合类型包含"待沟通+待沟通+……"、"不合适+不合适+……"、"待沟通+不合适混合排列"）
3. 如果出现面试+待沟通+不合适的情况，遵守第一条原则优先，面试的都是单独通知，剩下的聚合通知。

#### 消息内容：
- 多条『待沟通』的：{最新状态变更的一家公司简称}等{待沟通职位数}个公司已查看你的简历并反馈，点击查看详情>>
- 多条『不合适』的：你投递的简历有了新动态，点击查看>>
- 『待沟通』和『不合适』混排的：你投递的简历有了新动态，点击查看>>

#### 点击Push跳转情况：
- 多条『待沟通』的：简历状态-待沟通列表页
- 多条『不合适』的：简历状态-不合适列表页
- 『待沟通』和『不合适』混排的：简历状态-待沟通列表页

### 安卓情况：
> **由于安卓的情况比较特殊，它的消息展示逻辑如上，和iOS一致，但是消息的内容略有差异。以下即为安卓的消息内容。**


#### ticker：
- 面试：您有新的面试通知
- 待沟通：您的简历状态有更新
- 不合适：您的简历状态有更新
- 混合：您的简历状态有更新

#### 安卓消息：
icon：拉勾icon
- 面试
	- Title：面试通知
	- content：{公司简称}向你发来面试邀请
- 待沟通：
	- Title：简历状态更新通知
	- content：{公司简称}已查看你的简历并反馈，点击查看详情>>
- 不合适：
	- Title：简历状态更新通知
	- content：你投递{公司简称}的简历有新动态，点击查看>>
- 混合：
	- Title：简历状态更新通知
	- content：多种情况
		- 多条***待沟通：***{最新状态变更的一家公司简称}等{待沟通职位数}个公司已查看你的简历并反馈，点击查看详情>>
		- 多条***不合适：***你投递的简历有了新动态，点击查看>>
		- ***待沟通***和***不合适***混排的：你投递的简历有了新动态，点击查看>>



### APP-Push点击跳转相关：

<img src="https://dn-shimo-image.qbox.me/FtS9YjScVzo1p3ds/image.png!thumbnail" style="zoom:40%"/>

现在的APP-Push点击进去是“简历状态-面试”页面（如下图）
<img src="https://dn-shimo-image.qbox.me/tDDINz8YsG89tK6X/image.png!thumbnail" style="zoom:40%" />

**希望改进之后的是：**
1. 单条的消息，点击进去是对应职位的投递记录页，即如下图。
2. 聚合的消息，点击进去还是“简历状态-面试”页面，如上图（关于聚合内容细分跳转参考『聚合情况』）。











